# Cheestard Terminal Interactive MCP Server

[English README](README.en.md)

#### æœ¬å·¥å…·èƒ½è®©AIæ§åˆ¶å¤šä¸ªç»ˆç«¯ï¼Œå¹¶é€šè¿‡ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰è¿›è¡Œäº¤äº’ï¼Œè§£å†³ä¸€äº›AIç¼–ç¨‹å·¥å…·çš„ç»ˆç«¯å¡ä½ä¸å†ç»§ç»­ä¸‹ä¸€æ­¥çš„é—®é¢˜ï¼Œå®ç°æŒä¹…åŒ–ç»ˆç«¯ä¼šè¯ç®¡ç†ï¼Œå³ä½¿ä¸AIçš„å¯¹è¯å…³é—­ï¼Œç»ˆç«¯å‘½ä»¤ä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚æ¨èClaude Codeã€Codexã€Cursorã€Clineã€Roocodeã€Kilocodeç”¨æˆ·ä½¿ç”¨ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå‡å°‘ä¸å¡ä½çš„æ¦‚ç‡ï¼Œæå‡è‡ªåŠ¨åŒ–ä»»åŠ¡è¿›è¡Œçš„æˆåŠŸæ¦‚ç‡ã€‚


æˆªè‡³2025-11-03ï¼Œä¸»æµAIç¼–ç¨‹å·¥å…·ç»ˆç«¯äº¤äº’åŠŸèƒ½å¯¹æ¯”ï¼ˆå¦‚æœ‰é”™è¯¯ï¼Œè¯·å‘Šè¯‰æˆ‘ä¿®æ­£ğŸ¥²ï¼‰ï¼š

| åŠŸèƒ½ | Cheestard Terminal Interactive | Claude Code | Codex | Cursor | Cline | Roocode | Kilocode | Gemini CLI | Qwen Code | iFlow CLI | Open Code | windsurf | Warp | Augment |
|------|-------------------------------|-------------|-------|--------|-------|---------|----------|-------------|-----------|-----------|-----------|----------|------|---------|
| è¾“å…¥ctrl+c | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| è¾“å…¥å›è½¦ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| æ²¡æœ‰ç»å¸¸å¡ä½ä¸å·¥ä½œ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| ä¸€æ¬¡APIè¯·æ±‚åˆ›å»ºå¤šä¸ªç»ˆç«¯ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| åŒæ—¶æŸ¥çœ‹å¤šä¸ªç»ˆç«¯è¾“å‡º | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| å…³é—­æ—§çš„ç»ˆç«¯ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| ä»ç»ˆç«¯æœç´¢å­—ç¬¦ä¸² | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| è¾“å…¥yæˆ–n | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| ç›´æ¥åœ¨WSLè¾“å…¥Linuxå‘½ä»¤ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| å’Œå¦ä¸€ä¸ªå‘½ä»¤è¡ŒAIäº¤äº’ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| SSHç»ˆç«¯ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| æ–°å»ºå¯¹è¯åå¯ç»§ç»­ä½¿ç”¨ä¹‹å‰çš„ç»ˆç«¯ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| åœ¨æ‰§è¡Œå‘½ä»¤å‰åæ‰§è¡ŒæŒ‡å®šè„šæœ¬ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| åœ¨æ‰§è¡Œå‘½ä»¤å‰åæ‰§è¡ŒæŸäº›å›ºå®šå‘½ä»¤ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| æ‰§è¡ŒæŸäº›å‘½ä»¤é™„åŠ é¢å¤–æç¤ºè¯å‘ŠçŸ¥AIæ­£ç¡®çš„åšæ³• | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ç»ˆç«¯è¾“å‡ºä»è€ŒèŠ‚çœä¸Šä¸‹æ–‡ | âœ… | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |


## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”¥ æŒä¹…åŒ–ç»ˆç«¯ä¼šè¯
- **é•¿æœŸè¿è¡Œ**ï¼šåˆ›å»ºã€å¤ç”¨ã€ç®¡ç†é•¿æœŸè¿è¡Œçš„ Shell ä¼šè¯
- **æ–­çº¿ç»­ä¼ **ï¼šå®¢æˆ·ç«¯æ–­å¼€åç»ˆç«¯ç»§ç»­è¿è¡Œï¼Œé‡è¿åå¯ç»§ç»­æ“ä½œ
- **å¤šä¼šè¯ç®¡ç†**ï¼šåŒæ—¶ç®¡ç†å¤šä¸ªç‹¬ç«‹çš„ç»ˆç«¯ä¼šè¯

### ğŸ§  æ™ºèƒ½è¾“å‡ºç®¡ç†
- **å¾ªç¯ç¼“å†²åŒº**ï¼šå¯é…ç½®å¤§å°ï¼ˆé»˜è®¤ 10,000 è¡Œï¼‰ï¼Œè‡ªåŠ¨ç®¡ç†å†…å­˜
- **å¤šç§è¯»å–æ¨¡å¼**ï¼š
  - `full`ï¼šå®Œæ•´è¾“å‡º
  - `head`ï¼šåªè¯»å–å¼€å¤´ N è¡Œ
  - `tail`ï¼šåªè¯»å–æœ«å°¾ N è¡Œ
  - `head-tail`ï¼šåŒæ—¶è¯»å–å¼€å¤´å’Œæœ«å°¾
- **å¢é‡è¯»å–**ï¼šä½¿ç”¨ `since` å‚æ•°åªè¯»å–æ–°å¢å†…å®¹
- **Token ä¼°ç®—**ï¼šè‡ªåŠ¨ä¼°ç®—è¾“å‡ºçš„ token æ•°é‡ï¼Œæ–¹ä¾¿ AI æ§åˆ¶ä¸Šä¸‹æ–‡

### ğŸ¨ Spinner åŠ¨ç”»å‹ç¼©
- **è‡ªåŠ¨æ£€æµ‹**ï¼šè¯†åˆ«å¸¸è§çš„è¿›åº¦åŠ¨ç”»å­—ç¬¦ï¼ˆâ ‹â ™â ¹â ¸â ¼â ´â ¦â §â ‡â , â—â—“â—‘â—’ ç­‰ï¼‰
- **æ™ºèƒ½èŠ‚æµ**ï¼šå‡å°‘ `npm install`ã€`yarn`ã€`pnpm` ç­‰å‘½ä»¤çš„å™ªéŸ³è¾“å‡º
- **ä¿ç•™å…³é”®ä¿¡æ¯**ï¼šå‹ç¼©åŠ¨ç”»çš„åŒæ—¶ä¿ç•™çœŸå®æ—¥å¿—
- **çµæ´»é…ç½®**ï¼šå¯é€šè¿‡ç¯å¢ƒå˜é‡æˆ–å‚æ•°æ§åˆ¶å¼€å…³

### ğŸŒ Web å¯è§†åŒ–ç®¡ç†ç•Œé¢
- **å®æ—¶ç»ˆç«¯**ï¼šåŸºäº xterm.js çš„ç»ˆç«¯æ¸²æŸ“ï¼Œæ”¯æŒå®Œæ•´ ANSI é¢œè‰²
- **WebSocket æ¨é€**ï¼šç»ˆç«¯è¾“å‡ºå®æ—¶æ˜¾ç¤ºï¼Œæ— éœ€åˆ·æ–°
- **äº¤äº’æ“ä½œ**ï¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­å‘é€å‘½ä»¤ã€æŸ¥çœ‹è¾“å‡º
- **å¤šå®ä¾‹æ”¯æŒ**ï¼šè‡ªåŠ¨ç«¯å£åˆ†é…ï¼Œæ”¯æŒå¤šä¸ª AI å®¢æˆ·ç«¯åŒæ—¶ä½¿ç”¨

### ğŸ›¡ï¸ ç¨³å®šæ€§ä¿éšœ
- **è¾“å‡ºç¨³å®šæ£€æµ‹**ï¼š`wait_for_output` å·¥å…·ç¡®ä¿è·å–å®Œæ•´è¾“å‡º
- **äº¤äº’å¼åº”ç”¨æ”¯æŒ**ï¼šæ”¯æŒ vimã€npm create ç­‰äº¤äº’å¼ç¨‹åº
- **ANSI è½¬ä¹‰åºåˆ—**ï¼šæ­£ç¡®å¤„ç†ç»ˆç«¯æ§åˆ¶å­—ç¬¦



## ä½¿ç”¨æ–¹æ³•
### è¿è¡Œåç«¯
âš ï¸ ç”±äº `node-pty` çš„ç¼˜æ•…ï¼ŒWindows ç”¨æˆ·ç›®å‰éœ€è¦ä½¿ç”¨ä¸å¤§äº Node.js 20 çš„ç‰ˆæœ¬æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨æˆ‘å°†å®‰è£…ç¼–è¯‘è¿è¡Œè„šæœ¬éƒ½ä½¿ç”¨äº†20.19.5ï¼Œè¯·åŠ¡å¿…å®‰è£…å¥½fnmï¼šhttps://github.com/Schniz/fnm
å¦åˆ™å°†æ— æ³•ä½¿ç”¨ï¼Œé™¤éä½ æ¯ä¸ªé¡¹ç›®éƒ½ä½¿ç”¨åŒä¸€ä¸ªnodejsä¸è¿‡è¿™æ˜¯ä¸å¤ªå¯èƒ½çš„å› ä¸ºæœ¬æ–‡æ¡£åˆ—ä¸¾çš„æŸä¸ªAIç¼–ç¨‹å·¥å…·æˆ–æ¯”è¾ƒçƒ­é—¨çš„MCPå·¥å…·ç”¨åˆ°äº†nodejs22+ã€‚
```bash
git clone https://github.com/cheestard/cheestard-terminal-interactive.git
```
```bash
# å®‰è£…ä¾èµ–
node start_install.mjs
```
```bash
# è¿è¡Œåç«¯
node start_be_cheestard-terminal-interactive.mjs
```


### âš™ï¸ MCP å®¢æˆ·ç«¯é…ç½®
#### åœ¨é…ç½®MCPå®¢æˆ·ç«¯ä¹‹å‰ï¼Œæœ€å¥½å¯¹ä½ çš„AIç¼–ç¨‹å·¥å…·åŠ ä¸€æ¡è§„åˆ™ï¼š
```plaintext
åŠ¡å¿…ä½¿ç”¨cheestard-terminal-interactiveè¿™ä¸ªMCPç»ˆç«¯ï¼Œç¦æ­¢ç”¨ç³»ç»Ÿæç¤ºè¯è‡ªå¸¦çš„å·¥å…·å‡½æ•°æ‰§è¡Œå‘½ä»¤ã€‚
```

#### æ‰€æœ‰æ”¯æŒ Streamable HTTP çš„ MCP å®¢æˆ·ç«¯éƒ½å¯ç”¨ï¼Œä¸åŒMCPå®¢æˆ·ç«¯çš„é…ç½®ä¼šç•¥æœ‰ä¸åŒï¼Œæ³¨æ„æŸ¥è¯¢å¯¹åº”å®¢æˆ·ç«¯çš„å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œç»™å‡ºç®€å•çš„ç¤ºä¾‹

- **Cline / Roocode / Kilocode**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Cursor**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Claude Code**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

**å‘½ä»¤è¡Œæ·»åŠ æ–¹æ³•ï¼š**
é™¤äº†é…ç½®æ–‡ä»¶æ–¹å¼å¤–ï¼ŒClaude Code è¿˜æ”¯æŒä½¿ç”¨å‘½ä»¤è¡Œå¿«é€Ÿæ·»åŠ  MCP æœåŠ¡å™¨ï¼š

```bash
# æ·»åŠ  cheestard-terminal-interactive æœåŠ¡å™¨
claude mcp add cheestard-terminal-interactive --scope user --type streamable-http --url http://localhost:1106/mcp

# åˆ—å‡ºå·²é…ç½®çš„ MCP æœåŠ¡å™¨
claude mcp list

# ç§»é™¤ MCP æœåŠ¡å™¨
claude mcp remove cheestard-terminal-interactive
```

**å‘½ä»¤è¡Œå‚æ•°è¯´æ˜ï¼š**
- `--scope user`: è®¾ç½®é…ç½®èŒƒå›´ä¸ºç”¨æˆ·çº§åˆ«
- `--type streamable-http`: æŒ‡å®šä¼ è¾“ç±»å‹ä¸º streamable-http
- `--url http://localhost:1106/mcp`: æŒ‡å®šæœåŠ¡å™¨åœ°å€

å¯¹äºå¤æ‚çš„é…ç½®ï¼Œå»ºè®®ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`
- Linux: `~/.config/Claude/claude_desktop_config.json`

- **Gemini CLI**:
```json
    "cheestard-terminal-interactive": {
      "type": "http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Windsurf**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Qwen Code**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **iFlow CLI**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Open Code**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Warp**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

- **Augment**:
```json
    "cheestard-terminal-interactive": {
      "type": "streamable-http",
      "url": "http://localhost:1106/mcp"
    }
```

### ğŸŒ Web ç®¡ç†ç•Œé¢ä½¿ç”¨æ–¹å¼
```bash
node start_fe_cheestard-terminal-interactive.mjs
```

## åœ¨æ ¹ç›®å½•å¤åˆ¶.env.exampleæ”¹åä¸º.envï¼Œå¯ä»¥è®¾ç½®æˆä½ å–œæ¬¢çš„å‚æ•°
| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `MCP_PORT` | MCP Streamable HTTP æœåŠ¡å™¨åç«¯ç«¯å£ | 1106 |
| `FRONTEND_PORT` | å‰ç«¯ç«¯å£ | 1107 |
| `MAX_BUFFER_SIZE` | ç¼“å†²åŒºæœ€å¤§è¡Œæ•° | 10000 |
| `SESSION_TIMEOUT` | ä¼šè¯è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ | 86400000 (24å°æ—¶) |
| `COMPACT_ANIMATIONS` | æ˜¯å¦å¯ç”¨ Spinner å‹ç¼© | true |
| `ANIMATION_THROTTLE_MS` | åŠ¨ç”»èŠ‚æµæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ | 100 |
| `MCP_DEBUG` | æ˜¯å¦å¯ç”¨è°ƒè¯•æ—¥å¿— | false |
